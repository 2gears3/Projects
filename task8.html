<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Рисование линий от точки (0,0)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .coordinates {
            display: flex;
            gap: 10px;
        }
        
        input {
            width: 80px;
            padding: 5px;
        }
        
        .info {
            margin-top: 15px;
            text-align: center;
            color: #555;
        }
        
        canvas {
            border: 2px solid #333;
            background-color: white;
            cursor: crosshair;
        }
        
        .status {
            margin-top: 10px;
            font-weight: bold;
        }
        
        .thickness-preview {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .thickness-sample {
            height: 20px;
            background-color: black;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>Рисование линий от точки (0,0)</h1>
    
    <div class="controls">
        <div class="thickness-preview">
            <span>Толщина линии:</span>
            <div id="thicknessSample" class="thickness-sample"></div>
        </div>
    </div>
    
    <canvas id="canvas" width="640" height="480"></canvas>
    
    <div class="status" id="status">Текущая толщина: нормальная (2)</div>
    
    <div class="info">
        <p>Нажмите ЛКМ для рисования линии от (0,0) до положения курсора</p>
        <p>1 - тонкая линия, 2 - нормальная, 3 - толстая</p>
        <p>C - очистить холст</p>
    </div>

    <script>
        // Глобальные переменные
        var canvas, ctx;
        var lineThickness = 2; // Текущая толщина линии (1-тонкая, 2-нормальная, 3-толстая)
        
        // Функция инициализации
        function init() {
            canvas = document.getElementById('canvas');
            ctx = canvas.getContext('2d');
            
            // Рисуем рамку вокруг canvas
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 1;
            ctx.strokeRect(0, 0, 640, 480);
            
            // Добавляем обработчики событий
            canvas.addEventListener("mousedown", drawLine);
            document.addEventListener("keydown", handleKeyPress);
            
            // Обновляем отображение толщины линии
            updateThicknessDisplay();
        }
        
        // Функция рисования линии от (0,0) до позиции мыши
        function drawLine(event) {
            // Получаем координаты мыши относительно canvas
            const rect = canvas.getBoundingClientRect();
            const mouseX = event.clientX - rect.left;
            const mouseY = event.clientY - rect.top;
            
            // Устанавливаем стиль линии
            ctx.strokeStyle = 'black';
            ctx.lineWidth = getThicknessValue();
            ctx.lineCap = 'round';
            
            // Рисуем линию от (0,0) до позиции мыши
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(mouseX, mouseY);
            ctx.stroke();
            
            console.log(`Нарисована линия от (0,0) до (${mouseX},${mouseY}) толщиной ${ctx.lineWidth}px`);
        }
        
        // Функция обработки нажатий клавиш
        function handleKeyPress(event) {
            switch(event.key) {
                case '1':
                    lineThickness = 1;
                    updateThicknessDisplay();
                    break;
                case '2':
                    lineThickness = 2;
                    updateThicknessDisplay();
                    break;
                case '3':
                    lineThickness = 3;
                    updateThicknessDisplay();
                    break;
                case 'c':
                case 'C':
                case 'с':
                case 'С':
                    // Очищаем canvas
                    ctx.clearRect(0, 0, 640, 480);
                    // Восстанавливаем рамку
                    ctx.strokeStyle = 'black';
                    ctx.lineWidth = 1;
                    ctx.strokeRect(0, 0, 640, 480);
                    break;
            }
        }
        
        // Функция получения числового значения толщины
        function getThicknessValue() {
            switch(lineThickness) {
                case 1: return 1;   // Тонкая
                case 2: return 3;   // Нормальная
                case 3: return 6;   // Толстая
                default: return 3;
            }
        }
        
        // Функция обновления отображения толщины
        function updateThicknessDisplay() {
            const thicknessNames = {
                1: "тонкая (1)",
                2: "нормальная (2)", 
                3: "толстая (3)"
            };
            
            document.getElementById("status").textContent = 
                "Текущая толщина: " + thicknessNames[lineThickness];
            
            // Обновляем визуальный образец толщины
            const sample = document.getElementById("thicknessSample");
            sample.style.width = (getThicknessValue() * 8) + "px";
            sample.style.height = (getThicknessValue() * 2) + "px";
        }
        
        // Инициализация при загрузке страницы
        window.onload = init;
    </script>
</body>
</html>